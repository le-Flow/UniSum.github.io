## Inhalte

* Filter (analoge und digitale Filter, Filtereigenschaften)
* Steuerung und Regelung (Begriffe, Blockschaltbilder)
* Kenngrößen der Regelgüte (Stabilität, Robustheit)
* PID-Regler

---

## Filtertechnik

### Filtereigenschaften

#### Frequenzselektivität
Filter werden oft nach ihrem Verhalten im Frequenzbereich klassifiziert. Sie besitzen einen **Durchlassbereich** (Signal passiert) und einen **Sperrbereich** (Signal wird gedämpft).

* **Tiefpass:** Lässt tiefe Frequenzen durch (z. B. zur Unterdrückung von hochfrequentem Sensor-Rauschen).
* **Hochpass:** Lässt hohe Frequenzen durch (z. B. um Gleichanteile/Offset auszufiltern).
* **Bandpass:** Lässt nur ein bestimmtes Frequenzband durch.
* **Bandsperre:** Sperrt ein bestimmtes Frequenzband (z. B. 50Hz-Brummen).

#### Grenzfrequenz (<i>f</i><sub>g</sub>)
Die Frequenz, bei der die Signal-Amplitude um **3 dB** (Dezibel) abgefallen ist.
* Dies entspricht einer Reduzierung der Amplitude auf $1/\sqrt{2} \approx 70,7 \%$.
* Dies entspricht der **halben Leistung** des Signals.

#### Filterordnung
Beschreibt die höchste Potenz in der mathematischen Modellierung (DGL oder Übertragungsfunktion).
* Bestimmt die **Steilheit des Übergangsbereichs** (Flankensteilheit).
* **Faustregel:** Pro Ordnung steigt die Dämpfung um 20 dB/Dekade (z. B. 2. Ordnung = 40 dB/Dekade).
* **Trade-off:** Höhere Ordnung = steilere Flanke (besser), aber höherer Realisierungsaufwand und längere Laufzeit.

---

### Analoge Filter
Werden direkt durch elektronische Bauteile realisiert.

* **Passiv:** Bestehen nur aus passiven Bauteilen (R, L, C).
    * Benötigen keine Spannungsversorgung.
    * *Beispiel:* Tiefpass 1. Ordnung (RC-Glied) $\to f_g = \frac{1}{2\pi RC}$.
* **Aktiv:** Verwenden aktive Bauteile wie **Operationsverstärker (OPV)**.
    * **Vorteile:** Können Signale auch **verstärken**; ermöglichen Kaskadierung (Hintereinanderschaltung) ohne gegenseitige Beeinflussung.
    * **Nachteile:** Benötigen Spannungsversorgung; OPV fügt eigenes Rauschen hinzu; anfällig für Alterung und Temperaturdrift.
* **Einsatz:** Oft als Anti-Aliasing-Filter vor dem A/D-Wandler oder im sehr hohen Frequenzbereich.

---

### Digitale Filter
Verarbeiten abgetastete Zahlenfolgen (Signale) softwareseitig (MCU, DSP) oder in Hardware (FPGA). Mathematisch basieren sie auf **Differenzengleichungen**.

#### FIR (Finite Impulse Response)
* **Nicht-rekursiv:** Der Ausgangswert $x_n$ hängt nur von aktuellen und alten *Eingangswerten* $y$ ab (keine Rückkopplung).
* **Formel:** $x_n = \sum b_k \cdot y_{n-k}$
* **Vorteile:** **Immer stabil** (kann nicht schwingen); **konstante Gruppenlaufzeit** (keine Phasenverzerrung des Signals).
* **Nachteile:** Benötigt eine sehr hohe Ordnung (viele Rechenschritte) für steile Flanken.

#### IIR (Infinite Impulse Response)
* **Rekursiv:** Der Ausgangswert $x_n$ hängt von Eingangswerten $y$ UND alten *Ausgangswerten* $x$ ab (Rückkopplung).
* **Formel:** $x_n = \sum b_k \cdot y_{n-k} + \sum a_j \cdot x_{n-j}$
* **Vorteile:** Sehr effizient. Erreicht steile Flanken mit **wenigen Koeffizienten** (geringe Rechenlast).
* **Nachteile:** Kann **instabil werden** (aufschwingen); phasenverzerrend (keine konstante Gruppenlaufzeit).

---

## Steuerung und Regelung

### Steuerung (Open Loop Control)

* Eine **offene Wirkkette**: Eingang $\to$ Steuerglied $\to$ Stellglied $\to$ Strecke $\to$ Ausgang.
* Die Berechnungen sind **unabhängig vom Ist-Zustand** der Strecke.
* **Problem:** Störgrößen (z. B. Seitenwind, Laständerung) werden **nicht erkannt** und nicht korrigiert.

### Regelung (Closed Loop Control)
* Eine **geschlossene Wirkkette** (Regelkreis).
* **Prinzip:**
    1.  Der **Istwert** (Regelgröße $x(t)$) wird gemessen (Rückführung $r(t)$).
    2.  **Vergleich:** Regeldifferenz $e(t) = w(t) - r(t)$ (Sollwert - Istwert).
    3.  Der **Regler** versucht, $e(t)$ auf Null zu zwingen.
* **Vorteil:** Kann **Störgrößen aktiv ausgleichen**.

---

### Kenngrößen der Regelgüte

Wie gut arbeitet ein Regler? Man betrachtet meist die **Sprungantwort** (Reaktion auf eine sprunghafte Änderung des Sollwerts).



#### Dynamische Regelgüte (Zeitverhalten)
* **Anregelzeit ($T_{An}$):** Zeit, bis der Istwert *erstmals* den Toleranzbereich um den Sollwert erreicht.
* **Überschwingweite ($X_o$):** Maximale Abweichung über den Sollwert hinaus (Überreaktion).
* **Ausregelzeit ($T_{Aus}$):** Zeit, bis der Istwert *dauerhaft* im Toleranzbereich bleibt (Einschwingen).
* **Regelfläche ($I_R$):** Integral der Regeldifferenz (Gesamtfehler über die Zeit).

#### Stationäre Regelgüte (Genauigkeit)
* **Bleibende Regeldifferenz ($e(\infty)$):** Der Fehler, der auch nach unendlich langer Zeit noch besteht (Genauigkeit im eingeschwungenen Zustand).

#### Stabilität & Robustheit
* **Stabilität:** Ein System ist stabil, wenn es nach einer Störung in einen Ruhezustand zurückkehrt (abklingt). Instabile Systeme schwingen sich unbegrenzt auf (Zerstörungsgefahr).
* **Robustheit:** Die Fähigkeit des Reglers, auch dann stabil und gut zu arbeiten, wenn sich die Parameter der Strecke ändern (z. B. Auto wird schwerer durch Beladung).
* **Zielkonflikt:** Man kann meist nicht alles haben. Ein sehr *schneller* Regler neigt zum Überschwingen (weniger stabil). Ein sehr *robuster* Regler ist oft träge.

---

## PID-Regler
Der Standard-Industrieregler. Er berechnet die Stellgröße $y(t)$ aus drei parallelen Anteilen.

**Reglergleichung:**

$$y(t) = K_P \cdot e(t) + K_I \int e(t) dt + K_D \cdot \dot{e}(t)$$

### Die drei Anteile

1.  **P-Anteil (Proportional) $\to$ "Gegenwart"**
    * Reagiert auf die **aktuelle** Abweichung.
    * Wirkt sofort, hinterlässt aber meist eine **bleibende Regelabweichung**.
2.  **I-Anteil (Integral) $\to$ "Vergangenheit"**
    * Summiert die **vergangenen** Fehler auf.
    * Solange ein Fehler existiert, wächst der I-Anteil $\to$ zwingt den Fehler auf Null (**keine bleibende Regelabweichung**).
    * Nachteil: Macht das System träger und neigt zum Überschwingen.
3.  **D-Anteil (Differential) $\to$ "Zukunft"**
    * Reagiert auf die **Änderungsgeschwindigkeit** des Fehlers.
    * Wirkt dämpfend ("vorausdenkend").
    * Stabilisiert den Kreis und erlaubt aggressiveren P-Anteil.

### Vergleichstabelle

| Reglertyp | Reaktion (Anregelzeit) | Überschwingen | Bleibende Regeldifferenz |
| :--- | :--- | :--- | :--- |
| **P** | Mittel | Klein | **Ja** (Nachteil) |
| **I** | Langsam | Groß | **Nein** (Vorteil) |
| **PI** | Mittel | Mittel | **Nein** |
| **PD** | Schnell | Klein | **Ja** |
| **PID** | **Schnell** | **Klein** | **Nein** (Ideal) |